import{u as p,l as k,_ as C,S as h,M as w,a as B}from"./DQY954r6.js";import{e as Q,p as b,X as f,c as t,o as a,a4 as x,f as s,a as A,b as n,w as v,a3 as M,r as I}from"#entry";import{u as K}from"./CdHoNvMP.js";import"./B_27GktK.js";import"./xhKAhExa.js";const R="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAYGBgYHBgcICAcKCwoLCg8ODAwODxYQERAREBYiFRkVFRkVIh4kHhweJB42KiYmKjY+NDI0PkxERExfWl98fKcBBgYGBgcGBwgIBwoLCgsKDw4MDA4PFhAREBEQFiIVGRUVGRUiHiQeHB4kHjYqJiYqNj40MjQ+TERETF9aX3x8p//CABEIAFAAUAMBIgACEQEDEQH/xAAcAAABBAMBAAAAAAAAAAAAAAAAAgMHCAEEBQb/2gAIAQEAAAAAsvkyGTAk1IO8pJ8tBhGYhrh6vnW47oNlcPGu9+fPSA2efrf0OPbDaBkIkqptX02jLJiM6WIkCw8o7yTl1Di5Ww9tWam+LKq8VkEPyNdCifkVIU2jYkr/xAAZAQACAwEAAAAAAAAAAAAAAAACAwABBAX/2gAIAQIQAAAAblTvhcgesRZ83QhRDSoKpn//xAAaAQABBQEAAAAAAAAAAAAAAAACAAEDBAUG/9oACAEDEAAAAKWpbwkHVFzMcd69ioFKDJ3cP//EADUQAAEDAwIEBAMFCQAAAAAAAAECAwQABREGEgchMUEQE1FxIzJhFCAigaEkMENSYnORsbL/2gAIAQEAAT8A/eTp8aBEdlSF7W2xkn/QFXriPcH3HExlllvshPzfmaY13dobu5qepPqCdwNaZ4msznUMT0NpJwA810yf5k/f4s3dDEOFCC8KUovL9hyFIdm3WZ9mhgD1UegFRNFQXE4euRW73DbiautkXYyJUO5Jd8oBa2s/FQM/MMVpe5quunrXOUQVPR0lR9VDkfvcb25qrnaW2W8+ewUJP1SasVuet1sC2GQ6+vkSe1RLROnX6O624UNJKC6Rke4qXo2UxdX2ypZZfcKvPIBBZUMFs9wa0fZzZNM2m3KcC1MMAKUOhKiVeOazWa1LZGL1bVMLbSpxCgtonsodsnsakOXiwXh+NObLe7C8HBGFHqCKmasb+xurYkojObCGso3FSu5AqxaucDq0Trm+4XEpShK8FvJ9qgn9iif2G/8AkVnwzWazWa4vWVcuwi6R0ZfhfP8AVldIuKFv71gZCAlKlDcE889KTdhsIW+F5UMI8tKR16jFQZMeTDjPx3EOMuNJLa0HKSMdq3Vms1nw51xafksaOkOMTksEPIyg/wAcd26ccUtRJAHtSeorSOvNQ6cfZTHlLciJXlcRZ+GoVY+MmnZ6g3NYehLPc/ERUK526e0HIcxh9J7oWFeG2sVd71bLLDVKnyUMtjpnqo+iR3NcR9cPaqmseW2WokbcGW+53dVqojn0oJ6ZpKsdKRILfTmfWmZslpYcQ6pKwchQPMVwo17NvK3bTcnvNfbb3sOn5lpHVKvDiLxERphCIcNKVz3UZ59GkHuau1/ud3kqfnTHX3PVZzj6CiaV1A8CcAn0oHn+VJVXCt5aNcWbb3cWD7FB8NbXc3PU13lbypCpSw2f6EnaK3/qa71nK/BR/CaTkmh+grhQnOubR7un/DZr/8QAIBEAAgICAgIDAAAAAAAAAAAAAQIAEQMEEDEhQRMgcf/aAAgBAgEBPwCbO3jwUDZY+hMO/jyEBlKEn6Z0HzO7Vd+IgtqJBFRRSj85za6vZ9zHrhDK5PUqKZ4PU6swknle5//EACARAAICAgEFAQAAAAAAAAAAAAECABEDBAUQICExQWH/2gAIAQMBAT8AnH8Vs71lKVB7Y+pt8Ds4AWTIuVQPNe+zU2GGpgwYiQtEu36fkZnVbUENMpByuQPp6XNXcfFSfLmTfLi7A8QmyZfQWDLldtQz/9k=",V={key:0,class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-[#0c0e16]"},D={key:1,class:"flex h-screen overflow-hidden"},U={class:"w-[7%] bg-[#373b53] h-full overflow-hidden rounded-r-4xl flex flex-col"},F={class:"mt-auto mb-10"},y={class:"flex items-center justify-center"},_={class:"flex items-center justify-center py-8"},Z=["src"],N={class:"flex-1 overflow-y-auto p-5 dark:bg-[#0c0e16] bg-white pt-12 w-full mx-auto flex items-center justify-center"},P={class:"flex-1 max-w-xl"},G=Q({__name:"dashboard",setup(W){const c=p(),l=o=>{c.preference=o},{user:i,isLoading:u,fetchUser:E,logout:d}=K();return b(async()=>{try{if(i.value)return;await E()||await f("/login")}catch(o){console.error("Failed to fetch user:",o),await f("/login")}}),(o,e)=>{const g=C,m=M;return a(),t("div",null,[s(u)?(a(),t("div",V,[...e[3]||(e[3]=[A("div",{class:"text-center"},[A("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),A("p",{class:"text-gray-600 dark:text-gray-300"},"Loading...")],-1)])])):s(i)?(a(),t("div",D,[A("aside",U,[A("div",null,[n(g,{src:s(k),alt:"",class:"w-full"},null,8,["src"])]),A("div",F,[A("div",y,[n(m,null,{default:v(()=>[s(c).preference==="dark"?(a(),t("div",{key:0,onClick:e[0]||(e[0]=r=>l("light")),class:"cursor-pointer p-2"},[n(s(h),{color:"white"})])):(a(),t("div",{key:1,onClick:e[1]||(e[1]=r=>l("dark")),class:"cursor-pointer p-2"},[n(s(w),{color:"white"})]))]),_:1})])]),e[4]||(e[4]=A("hr",{class:"dark:border-white border-gray-600"},null,-1)),A("div",_,[A("img",{onClick:e[2]||(e[2]=(...r)=>s(d)&&s(d)(...r)),src:s(R),alt:"Avatar",class:"size-12 rounded-full object-cover"},null,8,Z)])]),A("main",N,[A("div",P,[I(o.$slots,"default"),n(s(B))])])])):x("",!0)])}}});export{G as default};
